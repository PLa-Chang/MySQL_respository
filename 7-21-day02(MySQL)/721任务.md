# 练习一

创建stroe数据库，在数据库中根据开发喵store业务创建表，表结构如下，并插入以下数据，完成下面的sql。

## 表结构

![image-20230721210215783](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210215783.png)

```mysql
create table goods(
	good_no int comment'商品编号',
	goods_name varchar(50) comment'商品名称',
	cost double comment'商品成本',
	price double comment'商品售价',
	count int comment'商品库存',
	create_time datetime comment'商品上架时间',
	create_no int comment'商品分类编号'
);
```

![image-20230721210328581](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210328581.png)

```mysql
create table category(
	no int comment'商品分类编号',
	name varchar(50) comment'商品类别名称'
);
```

![image-20230721210513316](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210513316.png)

```mysql
create table account(
	id int comment '用户编号',
    phone varchar(11) comment '=用户手机号',
    password varchar(50) comment '用户密码',
    type bit comment '用户类型0管理员1会员',
    name varchar(50) comment '用户名',
    point int comment '用户积分',
    money double comment '用户余额',
    create_time datetime comment '用户创建时间'
);
```



![image-20230721210532052](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210532052.png)

```mysql
create table cart(
	id int comment '购物车编号',
    goods_no int comment '商品编号',
    num int comment '商品数量',
    account_id int comment '用户编号',
    create_time datetime comment '加入购物车时间',
);
```

## 表数据

![image-20230721210638372](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210638372.png)

```mysql
insert into goods(good_no,goods_name,cost ,price, count, crate_time, categroy_no) values  (7,'薯片',1.5,5,80,'2023/3/13 19:50:0',1),
(8,'五粮液',6,3.5,60,'2023/3/13 19:50:0',4),
(9,'萝卜',5,3.5,20,'2023/3/13 19:50:0',2),
(5,'白菜',1.5,3.9,30,'2023/3/13 19:50:0',2),
(6,'芒果',3,6.5,60,'2023/3/13 19:50:0',3),
(1,'火腿肠',0.5,2.5,50,'2023/3/13 19:50:00',1);
```

![image-20230721210705091](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210705091.png)

```mysql
insert into category(no,name) values (1,'零食');
insert into category(no,name) values 
	(2,'蔬菜'),
	(3,'水果'),
	(4,'电子产品'),
	(5,'酒水'),
	(6,'辣条');
```

![image-20230721210737098](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210737098.png)

```mysql
insert into account(id,phone,password,type,name,point,money,crate_time) values(1,'111','111',0,'管理员',0,0,'2023/3/3 16:45'),
(2,'111','111',0,'张三',0,0,'2023/3/3 16:45'),
(3,'111','345',1,'李四',0,110,'2023/8/3 16:45'),
(4,'111','111',1,'王五',0,230,'2023/10/3 16:45'),
(5,'111','111',1,'老六',0,450,'2023/4/3 16:45'),
(6,'13231','111',1,'七大姑',0,120,'2023/7/3 16:45'),
(7,'12231','111',1,'八大姨',0,230,'2023/6/3 16:45'),
(8,'221','111',1,'孙立',0,150,'2023/4/3 16:45');
```

![image-20230721210749718](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20230721210749718.png)

```mysql
insert into cart(id,goods_no,num,create_time,account_id) values 
(1,1,2,'2023-3-11 19:00',2),
(2,2,2,'2023-3-11 19:00',2),
(3,6,10,'2023-3-11 19:23',3),
(4,4,20,'2023-3-11 19:34',4),
(5,9,1,'2023-3-11 19:45',4),
(6,2,10,'2023-3-11 19:12',3);

```

## 习题：

```mysql
1 - 查询商品库存等于50的所有商品，显示商品编号，商品名称，商品售价，商品库存。
mysql> select good_no,goods_name,price,count from goods where count = 50;
+---------+------------+-------+-------+
| good_no | goods_name | price | count |
+---------+------------+-------+-------+
|       1 | 火腿肠     |   2.5 |    50 |
+---------+------------+-------+-------+
 row in set (0.00 sec)
2 - 查询商品成本等于60的所有商品，显示商品编号，商品名称，商品售价，商品库存。
mysql> select good_no,goods_name,price,count from goods where cost = 60;

3 - 修改购物车中id为5的num数量加一
mysql> update cart set num = num+1 where id = 5;
Query OK, 1 row affected (0.04 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from cart;
+------+----------+------+------------+---------------------+
| id   | goods_no | num  | account_id | create_time         |
+------+----------+------+------------+---------------------+
|    1 |        1 |    2 |          2 | 2023-03-11 19:00:00 |
|    2 |        2 |    2 |          2 | 2023-03-11 19:00:00 |
|    3 |        6 |   10 |          3 | 2023-03-11 19:23:00 |
|    4 |        4 |   20 |          4 | 2023-03-11 19:34:00 |
|    5 |        9 |    2 |          4 | 2023-03-11 19:45:00 |
|    6 |        2 |   10 |          3 | 2023-03-11 19:12:00 |
+------+----------+------+------------+---------------------+
    rows in set (0.00 sec)
5 - 修改购物车表的id字段为cart_id
mysql> alter table cart change id cart_id int;
Query OK, 0 rows affected (0.41 sec)
Records: 0  Duplicates: 0  Warnings: 0
6 - 查询购物车数量等于10的信息，显示购物车编号，商品编号，商品数量，创建时间，账户编号。
mysql> select * from cart where num = 10;
+---------+----------+------+------------+---------------------+
| cart_id | goods_no | num  | account_id | create_time         |
+---------+----------+------+------------+---------------------+
|       3 |        6 |   10 |          3 | 2023-03-11 19:23:00 |
|       6 |        2 |   10 |          3 | 2023-03-11 19:12:00 |
+---------+----------+------+------------+---------------------+
	 rows in set (0.00 sec)
7 - 删除用户表中账户余额等于9的用户
mysql> delete from account where money = 9;
Query OK, 0 rows affected (1.64 sec)

mysql> select * from account;
+------+-------+----------+------------+--------+-------+-------+---------------------+
| id   | phone | password | type     | name   | point | money | crate_time          |
+------+-------+----------+------------+--------+-------+-------+---------------------+
|    1 | 111   | 111    | 0x00   | 管理员 |   0 |   0 | 2023-03-03 16:45:00 |
|    2 | 111   | 111    | 0x00   | 张三   |   0 |   0 | 2023-03-03 16:45:00 |
|    3 | 111   | 345    | 0x01   | 李四   |   0 | 110 | 2023-08-03 16:45:00 |
|    4 | 111   | 111    | 0x01   | 王五   |  0 |  230 | 2023-10-03 16:45:00 |
|    5 | 111   | 111    | 0x01   | 老六   |  0 |  450 | 2023-04-03 16:45:00 |
|    6 | 13231 | 111    | 0x01   | 七大姑 |  0 |  120 | 2023-07-03 16:45:00 |
|    7 | 12231 | 111    | 0x01   | 八大姨 |  0 |  230 | 2023-06-03 16:45:00 |
|    8 | 221   | 111    | 0x01   | 孙立   |  0 |  150 | 2023-04-03 16:45:00 |
+------+-------+----+--------+--------+-------+-------+-------------------+
	 rows in set (0.00 sec)
8 - 查询购物车中用户id为3的所有信息
mysql> select * from account where id = 3;
+------+-------+----------+------------+------+-------+-------+---------------------+
| id   | phone | password | type  | name | point | money | crate_time     |
+------+-------+----------+------------+------+-------+-------+---------------------+
|   3 | 111   | 345    | 0x01  | 李四 |     0 |   110 | 2023-08-03 16:45:00 |
+------+-------+----------+------------+------+-------+-------+-----------+
	 row in set (0.00 sec)

9 - 查询goods表中第二页的数据，每页显示5条数据
mysql> select * from goods limit 5,5;
+---------+------------+------+-------+-------+---------------------+-------------+
| good_no | goods_name | cost | price | count | crate_time   | categroy_no |
+---------+------------+------+-------+-------+---------------------+------+
|  6 | 芒果      |    3 |  6.5 |    60 | 2023-03-13 19:50:00 |           3 |
|  7 | 薯片      |  1.5 |     5 |    80 | 2023-03-13 19:50:00 |           1 |
|  8 | 五粮液    |    6 |   3.5 |    60 | 2023-03-13 19:50:00 |           4 |
|  9 | 萝卜      |    5 |   3.5 |    20 | 2023-03-13 19:50:00 |           2 |
+---------+------------+------+-------+-------+---------------------+----+
   rows in set (0.00 sec)
10 - 查询goods表中的数据，按照商品价格升序排序，如果商品价格一样按照成本降序排序，并显示第三页，每页显示3条数据。
mysql> select * from goods order by price , cost desc limit 6, 4;
+---------+------------+------+-------+-------+---------------------+-------------+
| good_no | goods_name | cost | price | count | crate_time          | categroy_no |
+---------+------------+------+-------+-------+---------------------+-------------+
|   5 | 白菜      |  1.5 |   3.9 |    30 | 2023-03-13 19:50:00 |          2 |
|   7 | 薯片      |  1.5 |     5 |    80 | 2023-03-13 19:50:00 |          1 |
|   6 | 芒果      |    3 |   6.5 |    60 | 2023-03-13 19:50:00 |          3 |
+---------+------------+------+-------+-------+---------------------+------+
	 rows in set (0.00 sec)

12 - 思考：如何查询用户购物车的单个商品总价
```





































